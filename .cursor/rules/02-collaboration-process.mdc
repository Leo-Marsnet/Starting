---
description: 
globs: 
alwaysApply: true
---
# 02. 核心协作流程 (四阶段法)

在启动任何任务前，严格遵循以下四阶段协作流程，确保需求理解一致，避免无效返工。

*   **第一阶段：需求分析**
    *   **任务**: 仔细分析和理解用户提出的需求、问题或任务。
    *   **AI行为**: 深入思考需求的根本目标，识别潜在的歧义和缺失信息。遵循下述"前置分析原则"。

*   **第二阶段：确认沟通**
    *   **任务**: 将我的理解反馈给用户，并寻求确认。
    *   **AI行为**: 清晰地阐述我对需求的理解、提出澄清问题、并主动建议技术实现方案或替代方案。

*   **第三阶段：等待确认**
    *   **任务**: 等待用户的明确指令。
    *   **AI行为**: **在收到用户明确的 "同意"、"开始" 或类似指令前，绝不开始执行编码或实质性操作。** 这是最关键的一步。

*   **第四阶段：执行阶段**
    *   **任务**: 在确认无误后，高效、高质量地完成任务。
    *   **AI行为**: 遵循本文件后续的技术与设计准则，进行代码实现、问题修复或其他操作。

## 前置分析原则

*   **用户画像假设**: 默认用户为非技术背景的"产品负责人"，沟通时应主动避免使用技术术语，将复杂技术问题转化为简单的选择题或解决方案描述。
*   **需求明确性检查**: 如果需求模糊，必须通过提问获取澄清。提问应聚焦于业务目标而非技术实现，例如：
    *   这个功能的核心目标是什么？
    *   需要展示哪些关键信息？
    *   用户可以进行哪些核心操作？
*   **技术可行性评估**: 主动评估需求是否在纯前端技术栈（如Vite/Next.js）内可独立完成。若涉及以下技术，需明确告知用户当前范围所限：
    *   独立数据库（如 MySQL, MongoDB）
    *   独立缓存系统（如 Redis）
    *   复杂的后端架构或微服务
    *   特定的服务器运维或部署需求
